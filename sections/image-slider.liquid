<!-- Slick CSS from CDN -->
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css"
/>

<section id="slick-slider-{{ section.id }}" class="slick-slider-section page-width">
  <div class="slick-slider-wrapper">
    {% for block in section.blocks %}
      <div class="slick-slide">
        {% if block.settings.link != blank %}
          <a href="{{ block.settings.link }}">
            <img
              src="{{ block.settings.image | image_url: width: 1600 }}"
              alt="{{ block.settings.alt | escape }}"
              loading="lazy"
            >
          </a>
        {% else %}
          <img
            src="{{ block.settings.image | image_url: width: 1600 }}"
            alt="{{ block.settings.alt | escape }}"
            loading="lazy"
          >
        {% endif %}
      </div>
    {% endfor %}
  </div>
</section>

{% schema %}
{
  "name": "Image Slick Slider",
  "settings": [
    {
      "type": "range",
      "id": "autoplay_speed",
      "label": "Autoplay speed (seconds)",
      "min": 1,
      "max": 10,
      "step": 1,
      "default": 5
    },
    {
      "type": "range",
      "id": "slides_to_show",
      "label": "Slides to show (desktop)",
      "min": 1,
      "max": 6,
      "step": 1,
      "default": 4
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Slide image" },
        { "type": "text", "id": "alt", "label": "Alt text" },
        { "type": "url", "id": "link", "label": "Optional link" }
      ]
    }
  ],
  "presets": [
    { "name": "Image Slick Slider", "category": "Media" }
  ]
}
{% endschema %}

{% javascript %}
document.addEventListener('DOMContentLoaded', function () {
  const $slider = $('#slick-slider-{{ section.id }} .slick-slider-wrapper');
  if ($slider.length) {
    $slider.slick({
      infinite: true,
      autoplay: true,
      autoplaySpeed: {{ section.settings.autoplay_speed | times: 1000 }},
      slidesToShow: {{ section.settings.slides_to_show }},
      slidesToScroll: 1,
      dots: true,
      arrows: true,
      responsive: [
        { breakpoint: 1024, settings: { slidesToShow: 2 } },
        { breakpoint: 768,  settings: { slidesToShow: 1 } }
      ]
    });
  }
});
{% endjavascript %}

<style>
/* Section wrapper */
.slick-slider-section {
  max-width: 100%;
  padding: 40px 0;
  background: #fafafa; /* soft background for contrast */
  position: relative;
}

/* Slides */
.slick-slider-wrapper .slick-slide {
  padding: 0 10px;
}
.slick-slider-wrapper img {
  width: 100%;
  height: auto;
  border-radius: 16px;
  box-shadow: 0 4px 14px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}
.slick-slider-wrapper img:hover {
  transform: scale(1.03);
}

/* Navigation arrows */
.slick-prev:before, .slick-next:before {
  color: #333;
  font-size: 30px;
  text-shadow: 0 0 6px rgba(255,255,255,0.8);
}

/* Dots */
.slick-dots {
  bottom: -35px;
}
.slick-dots li button:before {
  color: #555;
  opacity: 0.6;
  font-size: 12px;
}
.slick-dots li.slick-active button:before {
  color: #111;
  opacity: 1;
}
</style>
